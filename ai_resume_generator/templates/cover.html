<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Resume & Cover Letter Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Poppins', sans-serif; }
    .gradient-bg { background: linear-gradient(135deg, #6B73FF 0%, #000DFF 100%); }
    .resume-paper { 
      background-color: white; 
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); 
      min-height: 850px;
    }
    .section-title { border-bottom: 2px solid #2563eb; }
    .skill-level { height: 8px; background-color: #e0e7ff; }
    .skill-level-fill { height: 100%; background-color: #2563eb; }
    .input-highlight:focus { outline: none; box-shadow: 0 0 0 2px #3b82f6; }
    .button-transition { transition: all 0.3s ease; }
    .button-transition:hover { transform: translateY(-2px); }
  </style>
</head>
<body class="bg-gray-50 min-h-screen">
  <header class="gradient-bg text-white py-12 px-4">
    <div class="max-w-6xl mx-auto text-center">
      <h1 class="text-4xl md:text-5xl font-bold mb-4">ResuGenie</h1>
      <h3 class="text-2xl md:text-3xl font-bold mb-4">AI RESUME AND COVER LETTER GENERATOR</h3>
      <p class="text-xl max-w-3xl mx-auto">Create professional, tailored resumes and cover letters that stand out in your job search.</p>
    </div>
  </header>
  
  <main class="max-w-6xl mx-auto px-4 pt-8 pb-16">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      <!-- Input Form -->
      <div class="lg:col-span-1 bg-white rounded-xl shadow-md p-6 h-fit sticky top-8">
        <h2 class="text-2xl font-bold mb-6 text-gray-800 section-title pb-2">Your Information</h2>
        
        <form id="resumeForm" class="space-y-6">
          <div>
            <label for="fullName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
            <input type="text" id="fullName" class="w-full px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Full Name" required>
          </div>

          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
            <input type="email" id="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="username.@example.com" required>
          </div>

          <div>
            <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
            <input type="tel" id="phone" class="w-full px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="(123) 456-7890">
          </div>

          <div>
            <label for="address" class="block text-sm font-medium text-gray-700 mb-1">Address (Optional)</label>
            <input type="text" id="address" class="w-full px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="City, State">
          </div>

          <div>
            <label for="jobTitle" class="block text-sm font-medium text-gray-700 mb-1">Target Job Title</label>
            <input type="text" id="jobTitle" class="w-full px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Software Engineer" required>
          </div>

          <div>
            <label for="summary" class="block text-sm font-medium text-gray-700 mb-1">Professional Summary</label>
            <textarea id="summary" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Experienced professional with..." required></textarea>
          </div>

          <div>
            <label for="skills" class="block text-sm font-medium text-gray-700 mb-1">Skills (comma separated)</label>
            <textarea id="skills" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="JavaScript, Python, Project Management" required></textarea>
          </div>

          <div>
            <label for="experience" class="block text-sm font-medium text-gray-700 mb-1">Work Experience</label>
            <div id="experienceContainer">
              <div class="experience-entry mb-4">
                <input type="text" class="w-full mb-2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Job Title">
                <input type="text" class="w-full mb-2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Company Name">
                <div class="flex space-x-2 mb-2">
                  <input type="text" class="w-1/2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Start Date">
                  <input type="text" class="w-1/2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="End Date">
                </div>
                <textarea rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Responsibilities and achievements"></textarea>
              </div>
            </div>
            <button type="button" id="addExperience" class="mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium">+ Add Another Experience</button>
          </div>

          <div>
            <label for="education" class="block text-sm font-medium text-gray-700 mb-1">Education</label>
            <div id="educationContainer">
              <div class="education-entry mb-4">
                <input type="text" class="w-full mb-2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Degree">
                <input type="text" class="w-full mb-2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Institution">
                <div class="flex space-x-2">
                  <input type="text" class="w-1/2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Start Year">
                  <input type="text" class="w-1/2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="End Year">
                </div>
              </div>
            </div>
            <button type="button" id="addEducation" class="mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium">+ Add Another Education</button>
          </div>

          <div>
            <label for="jobPosting" class="block text-sm font-medium text-gray-700 mb-1">Job Posting Text (For Cover Letter)</label>
            <textarea id="jobPosting" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Paste the job description here"></textarea>
          </div>

          <div class="pt-4">
            <button type="submit" id="generateBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg button-transition">
              Generate Documents
            </button>
          </div>
        </form>
      </div>

      <!-- Preview Section -->
      <div class="lg:col-span-2 space-y-8">
        <!-- Resume Preview -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden">
          <div class="p-6 border-b border-gray-200">
            <div class="flex justify-between items-center">
              <h2 class="text-2xl font-bold text-gray-800">Resume Preview</h2>
              <button id="downloadResume" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg button-transition">
                Download as PDF
              </button>
            </div>
          </div>
          <div class="p-6">
            <div id="resumePreview" class="resume-paper p-8">
              <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-900 mb-1" id="previewName">Full Name</h1>
                <div class="flex justify-center space-x-4 text-gray-600">
                  <p id="previewEmail">username.@example.com</p>
                  <p id="previewPhone">(123) 456-7890</p>
                  <p id="previewAddress">City,Country</p>
                </div>
              </div>

              <div class="mb-8">
                <h2 class="text-xl font-bold text-gray-800 section-title mb-2">Professional Summary</h2>
                <p id="previewSummary" class="text-gray-700">Experienced professional with expertise in multiple domains. Adept at collaborating with cross-functional teams to deliver high-quality solutions. Proven track record of success in challenging environments.</p>
              </div>

              <div class="mb-8">
                <h2 class="text-xl font-bold text-gray-800 section-title mb-2">Skills</h2>
                <div id="previewSkills" class="grid grid-cols-2 gap-4">
                  <div class="skill-item">
                    <div class="flex justify-between mb-1">
                      <span class="text-gray-700">JavaScript</span>
                    </div>
                    <div class="skill-level">
                      <div class="skill-level-fill w-3/4"></div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="mb-8">
                <h2 class="text-xl font-bold text-gray-800 section-title mb-2">Work Experience</h2>
                <div id="previewExperience">
                  <div class="mb-6 experience-item">
                    <div class="flex justify-between">
                      <h3 class="text-lg font-semibold text-gray-800">Software Engineer</h3>
                      <p class="text-gray-600">2020 - Present</p>
                    </div>
                    <p class="text-gray-600 italic">Acme Inc.</p>
                    <ul class="list-disc pl-5 mt-2 text-gray-700">
                      <li>Developed scalable applications using modern technologies</li>
                      <li>Collaborated with product teams to define requirements</li>
                      <li>Optimized performance of key systems</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="mb-8">
                <h2 class="text-xl font-bold text-gray-800 section-title mb-2">Education</h2>
                <div id="previewEducation">
                  <div class="flex justify-between">
                    <h3 class="text-lg font-semibold text-gray-800">Bachelor of Science in Computer Science</h3>
                    <p class="text-gray-600">2016 - 2020</p>
                  </div>
                  <p class="text-gray-600 italic">University of Technology</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Cover Letter Preview -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden">
          <div class="p-6 border-b border-gray-200">
            <div class="flex justify-between items-center">
              <h2 class="text-2xl font-bold text-gray-800">Cover Letter Preview</h2>
              <button id="downloadCoverLetter" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg button-transition">
                Download as PDF
              </button>
            </div>
          </div>
          <div class="p-6">
            <div id="coverLetterPreview" class="resume-paper p-8">
              <div class="mb-8">
                <p id="clDate" class="text-right text-gray-700">January 1, 2023</p>
              </div>
              
              <div class="mb-8">
                <p id="clHiringManager">Hiring Manager</p>
                <p id="clCompany">Company Name</p>
                <p id="clCompanyAddress">123 Business Rd.<br>City, State 12345</p>
              </div>
              
              <div class="mb-4">
                <p id="clGreeting" class="font-medium">Dear Hiring Manager,</p>
              </div>
              
              <div class="mb-6">
                <p id="clOpening" class="mb-4">I am excited to apply for the [Job Title] position at [Company Name]. With my extensive experience in [relevant skills/industry], I am confident in my ability to contribute meaningfully to your team.</p>
                <p id="clBody1" class="mb-4">In my current role as [Current Position] at [Current Company], I have successfully [key achievement or responsibility]. This experience has allowed me to develop strong [relevant skills] that align well with the requirements for this position.</p>
                <p id="clBody2" class="mb-4">What excites me most about this opportunity is [specific aspect of job or company]. My background in [relevant experience] combined with my passion for [related topic] makes me an excellent fit for this role.</p>
                <p id="clClosing">I would welcome the opportunity to discuss how my skills and experiences align with your needs. Thank you for your consideration, and I look forward to the possibility of contributing to your team.</p>
              </div>
              
              <div class="mt-12">
                <p class="font-medium">Sincerely,</p>
                <p id="clSignature" class="mt-6">[Your Name]</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Form elements
      const form = document.getElementById('resumeForm');
      const generateBtn = document.getElementById('generateBtn');
      const addExperienceBtn = document.getElementById('addExperience');
      const addEducationBtn = document.getElementById('addEducation');
      const experienceContainer = document.getElementById('experienceContainer');
      const educationContainer = document.getElementById('educationContainer');
      
      // Preview elements
      const previewName = document.getElementById('previewName');
      const previewEmail = document.getElementById('previewEmail');
      const previewPhone = document.getElementById('previewPhone');
      const previewAddress = document.getElementById('previewAddress');
      const previewSummary = document.getElementById('previewSummary');
      const previewSkills = document.getElementById('previewSkills');
      const previewExperience = document.getElementById('previewExperience');
      const previewEducation = document.getElementById('previewEducation');
      
      // Cover letter elements
      const clDate = document.getElementById('clDate');
      const clHiringManager = document.getElementById('clHiringManager');
      const clCompany = document.getElementById('clCompany');
      const clCompanyAddress = document.getElementById('clCompanyAddress');
      const clGreeting = document.getElementById('clGreeting');
      const clOpening = document.getElementById('clOpening');
      const clBody1 = document.getElementById('clBody1');
      const clBody2 = document.getElementById('clBody2');
      const clClosing = document.getElementById('clClosing');
      const clSignature = document.getElementById('clSignature');
      
      // Download buttons
      const downloadResume = document.getElementById('downloadResume');
      const downloadCoverLetter = document.getElementById('downloadCoverLetter');
      
      // Add new experience field
      addExperienceBtn.addEventListener('click', function() {
        const newEntry = document.createElement('div');
        newEntry.className = 'experience-entry mb-4';
        newEntry.innerHTML = `
          <input type="text" class="w-full mb-2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Job Title">
          <input type="text" class="w-full mb-2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Company Name">
          <div class="flex space-x-2 mb-2">
            <input type="text" class="w-1/2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Start Date">
            <input type="text" class="w-1/2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="End Date">
          </div>
          <textarea rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Responsibilities and achievements"></textarea>
          <button type="button" class="remove-entry text-red-600 hover:text-red-800 text-sm">Remove</button>
        `;
        experienceContainer.appendChild(newEntry);
        
        // Add event listener to the new remove button
        newEntry.querySelector('.remove-entry').addEventListener('click', function() {
          if (experienceContainer.children.length > 1) {
            experienceContainer.removeChild(newEntry);
          }
        });
      });
      
      // Add new education field
      addEducationBtn.addEventListener('click', function() {
        const newEntry = document.createElement('div');
        newEntry.className = 'education-entry mb-4';
        newEntry.innerHTML = `
          <input type="text" class="w-full mb-2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Degree">
          <input type="text" class="w-full mb-2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Institution">
          <div class="flex space-x-2">
            <input type="text" class="w-1/2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="Start Year">
            <input type="text" class="w-1/2 px-4 py-2 border border-gray-300 rounded-lg input-highlight" placeholder="End Year">
          </div>
          <button type="button" class="remove-entry text-red-600 hover:text-red-800 text-sm">Remove</button>
        `;
        educationContainer.appendChild(newEntry);
        
        // Add event listener to the new remove button
        newEntry.querySelector('.remove-entry').addEventListener('click', function() {
          if (educationContainer.children.length > 1) {
            educationContainer.removeChild(newEntry);
          }
        });
      });
      
      // Form submission
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Show loading state
        generateBtn.disabled = true;
        generateBtn.textContent = 'Generating...';
        
        // Simulate AI generation with a timeout (in a real app, this would call an API)
        setTimeout(function() {
          updatePreviews();
          generateBtn.disabled = false;
          generateBtn.textContent = 'Generate Documents';
        }, 1500);
      });
      
      // Function to update all previews
      function updatePreviews() {
        // Basic info
        previewName.textContent = document.getElementById('fullName').value || 'Full Name';
        previewEmail.textContent = document.getElementById('email').value || 'username.@example.com';
        previewPhone.textContent = document.getElementById('phone').value || '(123) 456-7890';
        previewAddress.textContent = document.getElementById('address').value || 'City, Country';
        
        // Summary
        previewSummary.textContent = document.getElementById('summary').value || 
          'Experienced professional with expertise in multiple domains. Adept at collaborating with cross-functional teams to deliver high-quality solutions. Proven track record of success in challenging environments.';
        
        // Skills
        const skills = document.getElementById('skills').value.split(',').map(skill => skill.trim()).filter(skill => skill);
        previewSkills.innerHTML = '';
        
        if (skills.length > 0) {
          skills.forEach(skill => {
            const randomWidth = Math.floor(Math.random() * 60) + 40; // Random between 40-100%
            const skillItem = document.createElement('div');
            skillItem.className = 'skill-item';
            skillItem.innerHTML = `
              <div class="flex justify-between mb-1">
                <span class="text-gray-700">${skill}</span>
              </div>
              <div class="skill-level">
                <div class="skill-level-fill" style="width: ${randomWidth}%"></div>
              </div>
            `;
            previewSkills.appendChild(skillItem);
          });
        } else {
          previewSkills.innerHTML = '<p class="text-gray-600">No skills provided</p>';
        }
        
        // Experience
        const experienceEntries = document.querySelectorAll('#experienceContainer .experience-entry');
        previewExperience.innerHTML = '';
        
        if (experienceEntries.length > 0) {
          experienceEntries.forEach(entry => {
            const inputs = entry.querySelectorAll('input, textarea');
            const title = inputs[0].value || 'Job Title';
            const company = inputs[1].value || 'Company Name';
            const start = inputs[2].value || 'Start Date';
            const end = inputs[3].value || 'End Date';
            const description = inputs[4].value || 'Responsibilities and achievements not provided';
            
            const points = description.split('\n').filter(point => point.trim());
            
            const expItem = document.createElement('div');
            expItem.className = 'mb-6 experience-item';
            expItem.innerHTML = `
              <div class="flex justify-between">
                <h3 class="text-lg font-semibold text-gray-800">${title}</h3>
                <p class="text-gray-600">${start} - ${end}</p>
              </div>
              <p class="text-gray-600 italic">${company}</p>
              <ul class="list-disc pl-5 mt-2 text-gray-700">
                ${points.map(point => `<li>${point}</li>`).join('')}
              </ul>
            `;
            previewExperience.appendChild(expItem);
          });
        } else {
          previewExperience.innerHTML = '<p class="text-gray-600">No experience provided</p>';
        }
        
        // Education
        const educationEntries = document.querySelectorAll('#educationContainer .education-entry');
        previewEducation.innerHTML = '';
        
        if (educationEntries.length > 0) {
          educationEntries.forEach(entry => {
            const inputs = entry.querySelectorAll('input');
            const degree = inputs[0].value || 'Degree';
            const institution = inputs[1].value || 'Institution';
            const start = inputs[2].value || 'Start Year';
            const end = inputs[3].value || 'End Year';
            
            const eduItem = document.createElement('div');
            eduItem.className = 'mb-4';
            eduItem.innerHTML = `
              <div class="flex justify-between">
                <h3 class="text-lg font-semibold text-gray-800">${degree}</h3>
                <p class="text-gray-600">${start} - ${end}</p>
              </div>
              <p class="text-gray-600 italic">${institution}</p>
            `;
            previewEducation.appendChild(eduItem);
          });
        } else {
          previewEducation.innerHTML = '<p class="text-gray-600">No education provided</p>';
        }
        
        // Cover Letter (simplified AI generation for demo)
        const today = new Date();
        clDate.textContent = today.toLocaleDateString('en-US', { 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric' 
        });
        
        clHiringManager.textContent = 'Hiring Manager';
        clCompany.textContent = document.getElementById('jobTitle').value ? `Hiring for ${document.getElementById('jobTitle').value} Position` : 'Company Name';
        clCompanyAddress.textContent = '123 Business Rd.\nCity, State 12345';
        clGreeting.textContent = 'Dear Hiring Manager,';
        
        // AI-generated content simulation
        const jobTitle = document.getElementById('jobTitle').value || 'the position';
        const summary = document.getElementById('summary').value || 'my diverse experience and skills';
        const skillsText = skills.length > 0 ? 
          `my skills in ${skills.slice(0, 3).join(', ')}` : 
          'my professional background';
        
        clOpening.textContent = 
          `I am excited to apply for the ${jobTitle} position. With ${summary}, I am confident in my ability to contribute meaningfully to your team.`;
        
        clBody1.textContent = 
          `In my professional experience, I have successfully applied ${skillsText} to achieve measurable results. My expertise aligns well with the requirements for this position, and I am eager to bring my knowledge and enthusiasm to your organization.`;
        
        clBody2.textContent = 
          `What excites me most about this opportunity is the chance of ${jobTitle}. My background and passion for continuous learning make me an excellent candidate for this role.`;
        
        clClosing.textContent = 
          `I would welcome the opportunity to discuss how my skills and experiences align with your needs. Thank you for your consideration, and I look forward to the possibility of contributing to your team.`;
        
        clSignature.textContent = document.getElementById('fullName').value || '[Your Name]';
      }
      downloadResume.addEventListener('click', async function () {
  const payload = {
    name: document.getElementById('fullName').value,
    email: document.getElementById('email').value,
    job_title: document.getElementById('jobTitle').value,
    skills: document.getElementById('skills').value,
    experience: getExperienceText()
  };

  const response = await fetch('/download_resume', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(payload)
  });

  const blob = await response.blob();
  const url = window.URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = "Resume.pdf";
  document.body.appendChild(a);
  a.click();
  a.remove();
});

downloadCoverLetter.addEventListener('click', async function () {
  const payload = {
    name: document.getElementById('fullName').value,
    job_title: document.getElementById('jobTitle').value,
    experience: getExperienceText(),
    skills: document.getElementById('skills').value,
    job_posting: document.getElementById('jobPosting').value
  };

  const response = await fetch('/download_cover_letter', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(payload)
  });

  const blob = await response.blob();
  const url = window.URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = "Cover_Letter.pdf";
  document.body.appendChild(a);
  a.click();
  a.remove();
});

// Helper function to gather work experience from the form
function getExperienceText() {
  const entries = document.querySelectorAll('#experienceContainer .experience-entry');
  const result = [];

  entries.forEach(entry => {
    const inputs = entry.querySelectorAll('input, textarea');
    const title = inputs[0].value || '';
    const company = inputs[1].value || '';
    const start = inputs[2].value || '';
    const end = inputs[3].value || '';
    const desc = inputs[4].value || '';
    result.push(`${title} at ${company} (${start} to ${end}): ${desc}`);
  });

  return result.join('\n');
}

      
      
      // Initialize with default values
      updatePreviews();
    });
  </script>
</body>
</html>

